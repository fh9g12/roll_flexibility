function out = get_M(p,U)
	%GET_M Auto-generated function from moyra
	%
	%	Created at : Sat Sep  7 15:53:24 2024 
	%	Created with : moyra https://pypi.org/project/moyra/
	%
	%% extract required parameters from structure
	m_h = p.m_h;
	x_s = p.x_s;
	b_i = p.b_i;
	I_f = p.I_f;
	I_s = p.I_s;
	X_h = p.X_h;
	X_f = p.X_f;
	y_s = p.y_s;
	c_b = p.c_b;
	m_f = p.m_f;
	m_s = p.m_s;
	I_h = p.I_h;
	y_h = p.y_h;
	Lambda = p.Lambda;
	rho_b = p.rho_b;
	%% create common groups
	rep_1 = b_i.^5;
	rep_2 = c_b.*rho_b;
	rep_3 = X_h(2).*(X_h(2).*U(5) + U(4));
	rep_4 = sin(rep_3);
	rep_5 = rep_4.^2;
	rep_6 = X_h(2).^4;
	rep_7 = m_h.*rep_6;
	rep_8 = cos(rep_3);
	rep_9 = rep_8.^2;
	rep_10 = y_s(1).*(y_s(1).*U(5) + U(4));
	rep_11 = sin(rep_10);
	rep_12 = rep_11.^2;
	rep_13 = y_s(1).^4;
	rep_14 = m_s.*rep_13;
	rep_15 = cos(rep_10);
	rep_16 = rep_15.^2;
	rep_17 = y_s(2).*(y_s(2).*U(5) + U(4));
	rep_18 = sin(rep_17);
	rep_19 = rep_18.^2;
	rep_20 = y_s(2).^4;
	rep_21 = m_s.*rep_20;
	rep_22 = cos(rep_17);
	rep_23 = rep_22.^2;
	rep_24 = y_s(3).*(y_s(3).*U(5) + U(4));
	rep_25 = sin(rep_24);
	rep_26 = rep_25.^2;
	rep_27 = y_s(3).^4;
	rep_28 = m_s.*rep_27;
	rep_29 = cos(rep_24);
	rep_30 = rep_29.^2;
	rep_31 = y_h.^2;
	rep_32 = y_h.*U(4) + rep_31.*U(5);
	rep_33 = cos(rep_32);
	rep_34 = cos(U(6));
	rep_35 = y_h.^3;
	rep_36 = 2*y_h.*U(1) + 3*rep_31.*U(2) + 4*rep_35.*U(3);
	rep_37 = cos(rep_36);
	rep_38 = rep_34.*rep_37;
	rep_39 = sin(U(6));
	rep_40 = sin(Lambda);
	rep_41 = sin(rep_32);
	rep_42 = rep_40.*rep_41;
	rep_43 = sin(rep_36);
	rep_44 = cos(Lambda);
	rep_45 = rep_33.*rep_44;
	rep_46 = rep_42 + rep_43.*rep_45;
	rep_47 = rep_39.*rep_46;
	rep_48 = rep_33.*rep_38 + rep_47;
	rep_49 = rep_48.^2;
	rep_50 = m_f.*y_h.^4;
	rep_51 = rep_33.*rep_40;
	rep_52 = rep_37.*rep_39;
	rep_53 = rep_41.*rep_44;
	rep_54 = rep_43.*rep_51 - rep_53;
	rep_55 = rep_34.*rep_46;
	rep_56 = -rep_40.*rep_55 + rep_44.*rep_54 + rep_51.*rep_52;
	rep_57 = rep_56.^2;
	rep_58 = rep_37.*rep_44;
	rep_59 = rep_39.*rep_58;
	rep_60 = -rep_33.*rep_59 + rep_40.*rep_54 + rep_44.*rep_55;
	rep_61 = rep_60.^2;
	rep_62 = m_h.*X_h(2).^5;
	rep_63 = m_s.*y_s(1).^5;
	rep_64 = m_s.*y_s(2).^5;
	rep_65 = m_s.*y_s(3).^5;
	rep_66 = m_f.*y_h.^5;
	rep_67 = b_i.^6.*rep_2/6 + rep_12.*rep_63 + rep_16.*rep_63 + rep_19.*rep_64 + rep_23.*rep_64 + rep_26.*rep_65 + rep_30.*rep_65 + rep_49.*rep_66 + rep_5.*rep_62 + rep_57.*rep_66 + rep_61.*rep_66 + rep_62.*rep_9;
	rep_68 = m_h.*X_h(2).^6;
	rep_69 = m_s.*y_s(1).^6;
	rep_70 = m_s.*y_s(2).^6;
	rep_71 = m_s.*y_s(3).^6;
	rep_72 = m_f.*y_h.^6;
	rep_73 = b_i.^7.*rep_2/7 + rep_12.*rep_69 + rep_16.*rep_69 + rep_19.*rep_70 + rep_23.*rep_70 + rep_26.*rep_71 + rep_30.*rep_71 + rep_49.*rep_72 + rep_5.*rep_68 + rep_57.*rep_72 + rep_61.*rep_72 + rep_68.*rep_9;
	rep_74 = X_h(2).^2;
	rep_75 = rep_4.*rep_74;
	rep_76 = X_h(2).*rep_5 + X_h(2).*rep_9;
	rep_77 = X_h(1).*rep_4;
	rep_78 = X_h(2).^3;
	rep_79 = -X_h(1).*X_h(2).*U(4) - X_h(1).*rep_74.*U(5) + rep_6.*U(3) + rep_74.*U(1) + rep_78.*U(2);
	rep_80 = -rep_79;
	rep_81 = rep_77 - rep_8.*rep_80;
	rep_82 = -rep_77 - rep_79.*rep_8;
	rep_83 = X_h(2).*rep_8;
	rep_84 = X_h(1).*rep_8;
	rep_85 = rep_4.*rep_79 - rep_84;
	rep_86 = X_h(2).*rep_4;
	rep_87 = rep_82.*rep_83 - rep_85.*rep_86;
	rep_88 = -X_h(1).*X_h(2) - rep_82.*rep_86 - rep_83.*rep_85;
	rep_89 = -rep_4.*rep_88 + rep_76.*rep_81 + rep_8.*rep_87;
	rep_90 = m_h.*rep_89;
	rep_91 = y_s(1).^2;
	rep_92 = rep_11.*rep_91;
	rep_93 = y_s(1).*rep_12 + y_s(1).*rep_16;
	rep_94 = x_s.*rep_11;
	rep_95 = y_s(1).^3;
	rep_96 = -x_s.*y_s(1).*U(4) - x_s.*rep_91.*U(5) + rep_13.*U(3) + rep_91.*U(1) + rep_95.*U(2);
	rep_97 = -rep_96;
	rep_98 = -rep_15.*rep_97 + rep_94;
	rep_99 = -rep_15.*rep_96 - rep_94;
	rep_100 = y_s(1).*rep_15;
	rep_101 = x_s.*rep_15;
	rep_102 = -rep_101 + rep_11.*rep_96;
	rep_103 = y_s(1).*rep_11;
	rep_104 = rep_100.*rep_99 - rep_102.*rep_103;
	rep_105 = -x_s.*y_s(1) - rep_100.*rep_102 - rep_103.*rep_99;
	rep_106 = rep_104.*rep_15 - rep_105.*rep_11 + rep_93.*rep_98;
	rep_107 = m_s.*rep_106;
	rep_108 = y_s(2).^2;
	rep_109 = rep_108.*rep_18;
	rep_110 = y_s(2).*rep_19 + y_s(2).*rep_23;
	rep_111 = x_s.*rep_18;
	rep_112 = y_s(2).^3;
	rep_113 = -x_s.*y_s(2).*U(4) - x_s.*rep_108.*U(5) + rep_108.*U(1) + rep_112.*U(2) + rep_20.*U(3);
	rep_114 = -rep_113;
	rep_115 = rep_111 - rep_114.*rep_22;
	rep_116 = -rep_111 - rep_113.*rep_22;
	rep_117 = y_s(2).*rep_22;
	rep_118 = x_s.*rep_22;
	rep_119 = rep_113.*rep_18 - rep_118;
	rep_120 = y_s(2).*rep_18;
	rep_121 = rep_116.*rep_117 - rep_119.*rep_120;
	rep_122 = -x_s.*y_s(2) - rep_116.*rep_120 - rep_117.*rep_119;
	rep_123 = rep_110.*rep_115 + rep_121.*rep_22 - rep_122.*rep_18;
	rep_124 = m_s.*rep_123;
	rep_125 = y_s(3).^2;
	rep_126 = rep_125.*rep_25;
	rep_127 = y_s(3).*rep_26 + y_s(3).*rep_30;
	rep_128 = x_s.*rep_25;
	rep_129 = y_s(3).^3;
	rep_130 = -x_s.*y_s(3).*U(4) - x_s.*rep_125.*U(5) + rep_125.*U(1) + rep_129.*U(2) + rep_27.*U(3);
	rep_131 = -rep_130;
	rep_132 = rep_128 - rep_131.*rep_29;
	rep_133 = -rep_128 - rep_130.*rep_29;
	rep_134 = y_s(3).*rep_29;
	rep_135 = x_s.*rep_29;
	rep_136 = rep_130.*rep_25 - rep_135;
	rep_137 = y_s(3).*rep_25;
	rep_138 = rep_133.*rep_134 - rep_136.*rep_137;
	rep_139 = -x_s.*y_s(3) - rep_133.*rep_137 - rep_134.*rep_136;
	rep_140 = rep_127.*rep_132 + rep_138.*rep_29 - rep_139.*rep_25;
	rep_141 = m_s.*rep_140;
	rep_142 = -rep_4.*rep_80 - rep_84;
	rep_143 = rep_142.*rep_76 + rep_4.*rep_87 + rep_8.*rep_88;
	rep_144 = -rep_101 - rep_11.*rep_97;
	rep_145 = rep_104.*rep_11 + rep_105.*rep_15 + rep_144.*rep_93;
	rep_146 = -rep_114.*rep_18 - rep_118;
	rep_147 = rep_110.*rep_146 + rep_121.*rep_18 + rep_122.*rep_22;
	rep_148 = -rep_131.*rep_25 - rep_135;
	rep_149 = rep_127.*rep_148 + rep_138.*rep_25 + rep_139.*rep_29;
	rep_150 = m_h.*rep_143.*rep_74.*rep_8 + m_s.*rep_108.*rep_147.*rep_22 + m_s.*rep_125.*rep_149.*rep_29 + m_s.*rep_145.*rep_15.*rep_91 - rep_107.*rep_92 - rep_109.*rep_124 - rep_126.*rep_141 - rep_75.*rep_90;
	rep_151 = rep_5.*rep_74 + rep_74.*rep_9;
	rep_152 = rep_74.*rep_8;
	rep_153 = rep_152.*rep_82 - rep_75.*rep_85;
	rep_154 = -X_h(1).*rep_74 - rep_152.*rep_85 - rep_75.*rep_82;
	rep_155 = rep_151.*rep_81 + rep_153.*rep_8 - rep_154.*rep_4;
	rep_156 = m_h.*rep_155;
	rep_157 = rep_12.*rep_91 + rep_16.*rep_91;
	rep_158 = rep_15.*rep_91;
	rep_159 = -rep_102.*rep_92 + rep_158.*rep_99;
	rep_160 = -x_s.*rep_91 - rep_102.*rep_158 - rep_92.*rep_99;
	rep_161 = -rep_11.*rep_160 + rep_15.*rep_159 + rep_157.*rep_98;
	rep_162 = m_s.*rep_161;
	rep_163 = rep_108.*rep_19 + rep_108.*rep_23;
	rep_164 = rep_108.*rep_22;
	rep_165 = -rep_109.*rep_119 + rep_116.*rep_164;
	rep_166 = -x_s.*rep_108 - rep_109.*rep_116 - rep_119.*rep_164;
	rep_167 = rep_115.*rep_163 + rep_165.*rep_22 - rep_166.*rep_18;
	rep_168 = m_s.*rep_167;
	rep_169 = rep_125.*rep_26 + rep_125.*rep_30;
	rep_170 = rep_125.*rep_29;
	rep_171 = -rep_126.*rep_136 + rep_133.*rep_170;
	rep_172 = -x_s.*rep_125 - rep_126.*rep_133 - rep_136.*rep_170;
	rep_173 = rep_132.*rep_169 + rep_171.*rep_29 - rep_172.*rep_25;
	rep_174 = m_s.*rep_173;
	rep_175 = rep_142.*rep_151 + rep_153.*rep_4 + rep_154.*rep_8;
	rep_176 = rep_11.*rep_159 + rep_144.*rep_157 + rep_15.*rep_160;
	rep_177 = rep_146.*rep_163 + rep_165.*rep_18 + rep_166.*rep_22;
	rep_178 = rep_148.*rep_169 + rep_171.*rep_25 + rep_172.*rep_29;
	rep_179 = m_h.*rep_175.*rep_74.*rep_8 + m_s.*rep_108.*rep_177.*rep_22 + m_s.*rep_125.*rep_178.*rep_29 + m_s.*rep_15.*rep_176.*rep_91 - rep_109.*rep_168 - rep_126.*rep_174 - rep_156.*rep_75 - rep_162.*rep_92;
	rep_180 = m_f.*rep_31;
	rep_181 = -rep_34.*rep_43 + rep_59;
	rep_182 = -rep_33.*rep_52 + rep_55;
	rep_183 = rep_38.*rep_51 + rep_40.*rep_47;
	rep_184 = rep_39.*rep_43;
	rep_185 = rep_34.*rep_58;
	rep_186 = rep_184 + rep_185;
	rep_187 = rep_40.*(-rep_186 + rep_37.*rep_44);
	rep_188 = rep_44.^2;
	rep_189 = rep_184.*rep_44 + rep_188.*rep_38 + rep_37.*rep_40.^2;
	rep_190 = -rep_185.*rep_33 - rep_44.*rep_47;
	rep_191 = rep_181.*rep_182 + rep_183.*rep_187 + rep_189.*rep_190;
	rep_192 = -rep_48;
	rep_193 = y_h + X_f(1).*rep_187 + X_f(2).*rep_189 + X_f(3).*rep_181;
	rep_194 = -rep_193;
	rep_195 = -rep_181;
	rep_196 = X_f(1).*rep_56 + X_f(2).*rep_60 + X_f(3).*rep_48 + rep_31.*(y_h.*U(2) + rep_31.*U(3) + U(1));
	rep_197 = -rep_43.*rep_53 + rep_51;
	rep_198 = rep_197.*rep_39;
	rep_199 = rep_198 - rep_38.*rep_41;
	rep_200 = -rep_199;
	rep_201 = rep_42.*rep_43 + rep_45;
	rep_202 = rep_197.*rep_34;
	rep_203 = rep_201.*rep_44 + rep_202.*rep_40 + rep_42.*rep_52;
	rep_204 = rep_181.*rep_40;
	rep_205 = -rep_188.*rep_52 + rep_34.*rep_43.*rep_44;
	rep_206 = -rep_201.*rep_40 + rep_202.*rep_44 + rep_52.*rep_53;
	rep_207 = -rep_206;
	rep_208 = rep_186.*rep_200 + rep_203.*rep_204 + rep_205.*rep_207;
	rep_209 = X_f(1).*rep_203 + X_f(2).*rep_207 + X_f(3).*rep_200;
	rep_210 = -rep_209;
	rep_211 = -rep_202 - rep_41.*rep_52;
	rep_212 = -rep_198.*rep_40 + rep_34.*rep_37.*rep_40.*rep_41;
	rep_213 = rep_198.*rep_44 - rep_38.*rep_53;
	rep_214 = rep_211.*rep_48 + rep_212.*rep_56 + rep_213.*rep_60;
	rep_215 = -rep_196;
	rep_216 = rep_192.*rep_196 + rep_193.*rep_195 + rep_199.*rep_209;
	rep_217 = -rep_203;
	rep_218 = -rep_56;
	rep_219 = -rep_187.*rep_193 + rep_196.*rep_218 + rep_209.*rep_217;
	rep_220 = -rep_189;
	rep_221 = -rep_60;
	rep_222 = rep_193.*rep_220 + rep_196.*rep_221 + rep_206.*rep_209;
	rep_223 = X_f(1).*rep_204 + X_f(2).*rep_205 + X_f(3).*rep_186 + rep_186.*rep_216 + rep_204.*rep_219 + rep_205.*rep_222;
	rep_224 = X_f(1).*rep_183 + X_f(2).*rep_190 + X_f(3).*rep_182 + rep_182.*rep_216 + rep_183.*rep_219 + rep_190.*rep_222;
	rep_225 = X_f(1).*rep_212 + X_f(2).*rep_213 + X_f(3).*rep_211 + rep_211.*rep_216 + rep_212.*rep_219 + rep_213.*rep_222;
	rep_226 = rep_181.*rep_223 + rep_191.*(rep_192.*rep_194 + rep_195.*rep_196) + rep_200.*rep_225 + rep_208.*(rep_193.*rep_199 + rep_195.*rep_210) + rep_214.*(rep_192.*rep_209 + rep_199.*rep_215) + rep_224.*rep_48;
	rep_227 = rep_226.*rep_48;
	rep_228 = rep_187.*rep_223 + rep_191.*(-rep_187.*rep_196 + rep_194.*rep_218) + rep_203.*rep_225 + rep_208.*(-rep_187.*rep_210 + rep_193.*rep_217) + rep_214.*(rep_209.*rep_218 + rep_215.*rep_217) + rep_224.*rep_56;
	rep_229 = rep_228.*rep_56;
	rep_230 = rep_189.*rep_223 + rep_191.*(rep_194.*rep_221 + rep_196.*rep_220) + rep_207.*rep_225 + rep_208.*(rep_193.*rep_206 + rep_210.*rep_220) + rep_214.*(rep_206.*rep_215 + rep_209.*rep_221) + rep_224.*rep_60;
	rep_231 = rep_230.*rep_60;
	rep_232 = rep_180.*rep_227 + rep_180.*rep_229 + rep_180.*rep_231;
	rep_233 = m_h.*X_h(2).^7;
	rep_234 = m_s.*y_s(1).^7;
	rep_235 = m_s.*y_s(2).^7;
	rep_236 = m_s.*y_s(3).^7;
	rep_237 = m_f.*y_h.^7;
	rep_238 = b_i.^8.*rep_2/8 + rep_12.*rep_234 + rep_16.*rep_234 + rep_19.*rep_235 + rep_23.*rep_235 + rep_233.*rep_5 + rep_233.*rep_9 + rep_236.*rep_26 + rep_236.*rep_30 + rep_237.*rep_49 + rep_237.*rep_57 + rep_237.*rep_61;
	rep_239 = rep_4.*rep_78;
	rep_240 = rep_11.*rep_95;
	rep_241 = rep_112.*rep_18;
	rep_242 = rep_129.*rep_25;
	rep_243 = m_h.*rep_143.*rep_78.*rep_8 + m_s.*rep_112.*rep_147.*rep_22 + m_s.*rep_129.*rep_149.*rep_29 + m_s.*rep_145.*rep_15.*rep_95 - rep_107.*rep_240 - rep_124.*rep_241 - rep_141.*rep_242 - rep_239.*rep_90;
	rep_244 = m_h.*rep_175.*rep_78.*rep_8 + m_s.*rep_112.*rep_177.*rep_22 + m_s.*rep_129.*rep_178.*rep_29 + m_s.*rep_15.*rep_176.*rep_95 - rep_156.*rep_239 - rep_162.*rep_240 - rep_168.*rep_241 - rep_174.*rep_242;
	rep_245 = m_f.*rep_35;
	rep_246 = rep_227.*rep_245 + rep_229.*rep_245 + rep_231.*rep_245;
	rep_247 = m_h.*X_h(2).^8;
	rep_248 = m_s.*y_s(1).^8;
	rep_249 = m_s.*y_s(2).^8;
	rep_250 = m_s.*y_s(3).^8;
	rep_251 = m_f.*y_h.^8;
	rep_252 = rep_4.*rep_7;
	rep_253 = rep_11.*rep_14;
	rep_254 = rep_18.*rep_21;
	rep_255 = rep_25.*rep_28;
	rep_256 = m_h.*rep_143.*rep_6.*rep_8 + m_s.*rep_13.*rep_145.*rep_15 + m_s.*rep_147.*rep_20.*rep_22 + m_s.*rep_149.*rep_27.*rep_29 - rep_106.*rep_253 - rep_123.*rep_254 - rep_140.*rep_255 - rep_252.*rep_89;
	rep_257 = m_h.*rep_175.*rep_6.*rep_8 + m_s.*rep_13.*rep_15.*rep_176 + m_s.*rep_177.*rep_20.*rep_22 + m_s.*rep_178.*rep_27.*rep_29 - rep_155.*rep_252 - rep_161.*rep_253 - rep_167.*rep_254 - rep_173.*rep_255;
	rep_258 = rep_227.*rep_50 + rep_229.*rep_50 + rep_231.*rep_50;
	rep_259 = c_b.^3.*rho_b;
	rep_260 = b_i.^4.*rep_259/48 + m_h.*rep_143.*rep_175 + m_s.*rep_145.*rep_176 + m_s.*rep_147.*rep_177 + m_s.*rep_149.*rep_178 + I_h(2).*rep_151.*rep_76 + I_s(2).*rep_110.*rep_163 + I_s(2).*rep_127.*rep_169 + I_s(2).*rep_157.*rep_93 + rep_107.*rep_161 + rep_124.*rep_167 + rep_141.*rep_173 + rep_155.*rep_90;
	%% create output vector
	out = [rep_1.*rep_2/5 + rep_12.*rep_14 + rep_14.*rep_16 + rep_19.*rep_21 + rep_21.*rep_23 + rep_26.*rep_28 + rep_28.*rep_30 + rep_49.*rep_50 + rep_5.*rep_7 + rep_50.*rep_57 + rep_50.*rep_61 + rep_7.*rep_9 rep_67 rep_73 rep_150 rep_179 rep_232;...
		 rep_67 rep_73 rep_238 rep_243 rep_244 rep_246;...
		 rep_73 rep_238 b_i.^9.*rep_2/9 + rep_12.*rep_248 + rep_16.*rep_248 + rep_19.*rep_249 + rep_23.*rep_249 + rep_247.*rep_5 + rep_247.*rep_9 + rep_250.*rep_26 + rep_250.*rep_30 + rep_251.*rep_49 + rep_251.*rep_57 + rep_251.*rep_61 rep_256 rep_257 rep_258;...
		 rep_150 rep_243 rep_256 b_i.^3.*rep_259/36 + m_h.*rep_143.^2 + m_h.*rep_89.^2 + m_s.*rep_106.^2 + m_s.*rep_123.^2 + m_s.*rep_140.^2 + m_s.*rep_145.^2 + m_s.*rep_147.^2 + m_s.*rep_149.^2 + I_h(2).*rep_76.^2 + I_s(2).*rep_110.^2 + I_s(2).*rep_127.^2 + I_s(2).*rep_93.^2 rep_260 0;...
		 rep_179 rep_244 rep_257 rep_260 m_h.*rep_155.^2 + m_h.*rep_175.^2 + m_s.*rep_161.^2 + m_s.*rep_167.^2 + m_s.*rep_173.^2 + m_s.*rep_176.^2 + m_s.*rep_177.^2 + m_s.*rep_178.^2 + I_h(2).*rep_151.^2 + I_s(2).*rep_157.^2 + I_s(2).*rep_163.^2 + I_s(2).*rep_169.^2 + rep_1.*rep_259/60 0;...
		 rep_232 rep_246 rep_258 0 0 m_f.*rep_226.^2 + m_f.*rep_228.^2 + m_f.*rep_230.^2 + I_f(1).*(rep_187.*rep_214 + rep_191.*rep_203 + rep_208.*rep_56).^2 + I_f(2).*(rep_189.*rep_214 + rep_191.*rep_207 + rep_208.*rep_60).^2 + I_f(3).*(rep_181.*rep_214 + rep_191.*rep_200 + rep_208.*rep_48).^2];
end